using System;
using System.Collections.Generic;

namespace LibrarySystem
{
    internal class Member
    {
        public int ID { get; set; }
        public string Name { get; set; }
        public List<Book> BorrowedBooks { get; set; } = new List<Book>();
        private const int MaxBooksAllowed = 3;

        public void BorrowBook(Book book)
        {
            if (!book.IsBorrowed)
            {
                if (BorrowedBooks.Count >= MaxBooksAllowed)
                {
                    Console.ForegroundColor = ConsoleColor.Red;
                    Console.WriteLine("You reached the maximum limit. Return a book first.");
                    return;
                }

                book.IsBorrowed = true;
                BorrowedBooks.Add(book);
                Console.ForegroundColor = ConsoleColor.Green;
                Console.WriteLine($" borrowed {book.Title}");
            }
            else
            {
                Console.ForegroundColor = ConsoleColor.Red;
                Console.WriteLine($"{book.Title} is not available right now.");
            }
        }

        
        public void ReturnBook(Book book)
        {
            if (book.IsBorrowed && BorrowedBooks.Contains(book))
            {
                book.IsBorrowed = false;
                BorrowedBooks.Remove(book);
                Console.WriteLine($" returned {book.Title}");
            }
            else
            {
                Console.WriteLine($"{book.Title} was not borrowed by u ");
            }
        }
    }
}
